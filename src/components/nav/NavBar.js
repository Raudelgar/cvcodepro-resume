import React, { useContext } from 'react';

import './nav.scss';
import SettingMenu from '../menu/SettingMenu.js';
import { ThemeContext } from '../../context/ThemeContext.js';
import { FaUserCircle } from 'react-icons/fa';
import useProfileState from '../../hooks/useProfileState';

export default function NavBar() {
	const { theme } = useContext(ThemeContext);
	const { name, avatar_url } = useProfileState();
	const userAvatar = avatar_url ? true : false;

	return (
		<nav className={`${theme}-nav`}>
			<div className='main-header'>
				<div className='logo'>
					<div className={`${theme}-logo-bg`}>
						<svg
							version='1.0'
							xmlns='http://www.w3.org/2000/svg'
							width='624.000000pt'
							height='203.000000pt'
							viewBox='0 0 624.000000 203.000000'
							preserveAspectRatio='xMidYMid meet'
							className='logo-icon'
						>
							<metadata>
								Created by potrace 1.16, written by Peter Selinger 2001-2019
							</metadata>
							<g
								transform='translate(0.000000,203.000000) scale(0.100000,-0.100000)'
								fill='#000000'
								stroke='none'
							>
								<path
									d='M140 1010 l0 -880 2980 0 2980 0 0 880 0 880 -2980 0 -2980 0 0 -880z
m1440 5 l0 -765 -670 0 -670 0 0 765 0 765 670 0 670 0 0 -765z m512 218 c2
-20 9 -28 23 -28 17 0 20 -8 23 -47 l3 -48 -50 0 c-48 0 -51 2 -51 25 l0 25
-100 0 -100 0 0 -155 0 -156 98 3 c92 3 97 4 100 26 3 19 9 22 53 22 l50 0 -3
-47 c-3 -41 -6 -48 -25 -51 -17 -3 -23 -10 -23 -28 l0 -25 -152 3 c-144 3
-153 4 -153 23 0 12 -9 21 -25 25 l-25 6 0 199 0 200 23 -3 c18 -3 23 3 28 27
l7 31 148 0 148 0 3 -27z m220 -150 c3 -175 3 -178 25 -181 14 -2 23 -11 25
-25 3 -19 9 -22 53 -22 43 0 50 3 50 20 0 12 9 21 25 25 l25 6 3 177 2 178 48
-3 47 -3 0 -200 c0 -198 0 -200 -22 -203 -14 -2 -23 -11 -25 -25 -3 -19 -10
-22 -55 -25 -49 -3 -53 -5 -53 -28 0 -24 -3 -25 -47 -22 -41 3 -48 6 -51 25
-3 19 -11 22 -50 25 -40 3 -47 6 -50 25 -2 14 -11 23 -25 25 -22 3 -22 6 -25
193 -1 104 0 195 2 202 3 8 23 13 50 13 l46 0 2 -177z m730 150 c2 -20 9 -28
23 -28 17 0 20 -8 23 -47 l3 -48 -50 0 c-48 0 -51 2 -51 25 l0 26 -97 -3 -98
-3 0 -150 0 -150 95 0 c91 0 95 1 98 23 3 19 9 22 53 22 l50 0 -3 -47 c-3 -41
-6 -48 -25 -51 -17 -3 -23 -10 -23 -28 l0 -24 -150 0 -150 0 0 24 c0 18 -6 25
-22 28 -23 3 -23 3 -23 203 0 153 3 200 13 201 6 1 17 2 22 3 6 0 10 12 10 26
l0 25 149 0 150 0 3 -27z m478 -3 c4 -16 13 -25 25 -25 19 0 20 -9 23 -203 l2
-202 -24 0 c-18 0 -25 -6 -28 -22 -3 -23 -6 -23 -150 -26 l-148 -3 0 25 c0 19
-6 25 -27 28 l-28 3 -3 198 c-1 128 1 197 8 198 5 1 15 3 20 4 6 1 15 3 20 4
6 0 10 12 10 26 l0 26 147 -3 147 -3 6 -25z m430 0 c3 -14 11 -26 18 -26 7 -1
17 -2 22 -3 6 0 10 -10 10 -20 0 -13 8 -21 23 -23 22 -3 22 -6 25 -150 2 -145
2 -147 -20 -150 -14 -2 -24 -12 -28 -28 -4 -16 -14 -26 -27 -28 -14 -2 -23
-12 -25 -25 -3 -22 -6 -22 -153 -22 l-150 0 -3 240 c-1 132 0 245 3 253 3 10
38 12 152 10 l147 -3 6 -25z m570 -20 l0 -49 -147 -3 -148 -3 0 -50 0 -50 123
-3 c112 -2 122 -4 122 -22 0 -12 -8 -20 -22 -22 -14 -2 -24 -12 -28 -28 -6
-24 -9 -25 -103 -28 l-98 -3 3 -47 3 -47 148 -3 147 -3 0 -49 0 -50 -200 0
-200 0 0 255 0 255 200 0 200 0 0 -50z m432 23 c2 -20 9 -28 23 -28 19 0 20
-7 20 -100 0 -95 -1 -100 -22 -103 -14 -2 -23 -11 -25 -25 -2 -14 -11 -23 -25
-25 -14 -2 -23 -11 -25 -25 -3 -21 -10 -22 -103 -27 l-100 -5 -1 -70 -1 -70
-49 0 -49 0 -3 240 c-1 132 0 245 2 252 4 10 48 13 180 13 l175 0 3 -27z m478
-3 c4 -16 13 -25 25 -25 19 0 20 -8 20 -100 0 -95 -1 -100 -22 -103 -14 -2
-23 -11 -25 -25 -2 -14 -11 -23 -25 -25 -35 -5 -32 -52 2 -52 20 0 25 -5 25
-25 0 -20 5 -25 26 -25 24 0 25 -2 22 -47 l-3 -48 -47 -3 c-46 -3 -48 -2 -48
22 0 19 -5 26 -20 26 -13 0 -24 10 -30 25 -6 15 -17 25 -29 25 -13 0 -21 8
-23 23 -3 19 -10 22 -55 25 l-53 3 0 -76 0 -76 -47 3 -48 3 -3 240 c-1 132 0
245 3 253 3 10 43 12 177 10 l172 -3 6 -25z m478 -3 c3 -23 8 -28 23 -24 18 5
19 -2 19 -199 0 -195 -1 -204 -19 -204 -13 0 -21 -8 -23 -22 -3 -23 -6 -23
-155 -26 l-153 -3 0 26 c0 20 -5 25 -25 25 l-25 0 0 199 c0 199 0 200 23 203
16 2 23 11 25 31 l3 28 152 -3 152 -3 3 -28z'
								/>
								<path
									d='M430 1217 l0 -62 138 -69 137 -69 -137 -66 -138 -65 0 -63 c0 -35 2
-63 5 -63 3 0 95 45 205 100 l200 100 0 58 0 57 -205 103 -205 102 0 -63z'
								/>
								<path d='M870 605 l0 -55 235 0 235 0 0 55 0 55 -235 0 -235 0 0 -55z' />
								<path d='M3270 1005 l0 -156 98 3 97 3 0 150 0 150 -97 3 -98 3 0 -156z' />
								<path
									d='M3745 1147 c-3 -7 -4 -76 -3 -152 l3 -140 100 0 100 0 0 150 0 150
-98 3 c-74 2 -99 0 -102 -11z'
								/>
								<path
									d='M4697 1153 c-10 -9 -8 -125 1 -141 6 -9 34 -12 103 -10 l94 3 3 78 3
77 -99 0 c-54 0 -102 -3 -105 -7z'
								/>
								<path
									d='M5174 1147 c-3 -8 -4 -43 -2 -78 l3 -64 100 0 100 0 0 75 0 75 -98 3
c-76 2 -99 0 -103 -11z'
								/>
								<path d='M5650 1005 l0 -155 100 0 100 0 0 155 0 155 -100 0 -100 0 0 -155z' />
							</g>
						</svg>
					</div>
				</div>
				<div className='user-name'>{name}</div>
				<div className='user-avatar'>
					{userAvatar ? (
						<img src={avatar_url} alt='User Avatar' className='avatar-img' />
					) : (
						<FaUserCircle className='avatar-container' />
					)}
				</div>
			</div>
			<SettingMenu />
		</nav>
	);
}

/* 
<div className='user-avatar'>
					<img
						src='https://media-exp1.licdn.com/dms/image/C5103AQHPZg4WFrUCZQ/profile-displayphoto-shrink_100_100/0?e=1595462400&v=beta&t=IemcBrohIPQNvPsdndr3NJqK6M6BD075E552J77uNVI'
						alt='User Avatar'
						className='user-avatar avatar-img'
					/>
					<div className='avatar-container'></div>
				</div>
*/
